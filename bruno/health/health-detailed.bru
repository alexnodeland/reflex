meta {
  name: Health Detailed
  type: http
  seq: 2
}

get {
  url: {{BASE_URL}}/health/detailed
  body: none
  auth: none
}

assert {
  res.status: eq 200
  res.body.status: eq healthy
  res.body.indicators: isDefined
}

script:post-response {
  const health = res.getBody();
  console.log('Overall Status:', health.status);
  health.indicators.forEach(ind => {
    console.log(`  ${ind.name}: ${ind.status} - ${ind.message || ''}`);
  });
}
